#!@BASH_PATH@

# Initialization
option=
cflags=
libs=
cflags_text="@EXTERN_PROG_CXXFLAGS@"
libs_text="@EXTERN_PROG_LIBS@"

# Decode options
while test "$1" != ""; do
	if test "$1" == "--cflags"; then
		cflags=ok;
		option=ok
	elif test "$1" == "--libs"; then
		libs=ok
		option=ok
	elif test "$1" == "glissppc"; then
		cflags_text="$cflags_text @EXTERN_GLISS_PPC_CXXFLAGS@"
		libs_text="$libs_text @EXTERN_GLISS_PPC_LIBS@"
	elif test "$1" == "lp_solve"; then
		cflags_text="$cflags_text @EXTERN_LP_SOLVE_CXXFLAGS"
		libs_text="$libs_text @EXTERN_LP_SOLVE_LIBS@"
	elif test "$1" == "--version"; then
		echo "@PACKAGE@ @VERSION@"
		exit
	else
		option=
		echo "ERROR: unknown option '$1'."
		break
	fi
	shift
done

# Check options
if test "$option" == ""; then
	echo "SYNTAX: otawa-config [--cflags] [--libs] [lp_solve] [glissppc]"
fi

# Perform display
if test "$cflags" == "ok"; then
	echo $cflags_text
fi
if test "$libs" == "ok"; then
	echo $libs_text
fi
